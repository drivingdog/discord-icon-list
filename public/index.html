<!DOCTYPE html>
<html lang="es">

<head>
    <link rel="icon" type="image/x-icon" href="/favicon.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discord Game Icons</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @font-face {
            font-family: 'BlockBlueprint';
            src: url('BlockBlueprint.ttf') format('truetype');
        }

        body {
            font-family: 'BlockBlueprint', monospace;
            background: linear-gradient(135deg, #0a0015 0%, #1a0033 50%, #0a0015 100%);
            min-height: 100vh;
        }

        .chrome-text {
            background: linear-gradient(90deg, #00f2ff, #ff00ff, #00f2ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shimmer 3s infinite linear;
            background-size: 200% 100%;
        }

        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .game-card {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.1), rgba(0, 242, 255, 0.05));
            border: 1px solid rgba(0, 242, 255, 0.3);
            box-shadow: 0 0 20px rgba(138, 43, 226, 0.3), inset 0 0 20px rgba(0, 242, 255, 0.1);
            transition: all 0.3s ease;
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 30px rgba(255, 0, 255, 0.5), inset 0 0 30px rgba(0, 242, 255, 0.2);
            border-color: rgba(255, 0, 255, 0.6);
        }

        .game-card img {
            filter: drop-shadow(0 0 10px rgba(0, 242, 255, 0.5));
        }

        .grid-bg {
            background-image: 
                linear-gradient(rgba(0, 242, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 242, 255, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
        }

        .glow-border {
            border: 2px solid transparent;
            background: linear-gradient(#0a0015, #0a0015) padding-box,
                        linear-gradient(90deg, #00f2ff, #ff00ff, #00f2ff) border-box;
            animation: border-shimmer 3s infinite linear;
        }

        @keyframes border-shimmer {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }

        .loader {
            border: 3px solid rgba(0, 242, 255, 0.3);
            border-top: 3px solid #00f2ff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>

<body class="grid-bg">
    
    <div class="container mx-auto px-4 py-12 max-w-7xl">
        

        <div class="text-center mb-16">
            <h1 class="chrome-text text-6xl md:text-8xl font-bold mb-4 tracking-wider select-none">
                DISCORD GAMES
            </h1>
            <p class="text-cyan-300 text-lg md:text-xl tracking-widest uppercase opacity-80 select-none">
                Customize your profile with detectable game icons
            </p>
        </div>


        <div id="games" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6">
        </div>


        <div id="loading" class="flex justify-center items-center py-8 hidden">
            <div class="loader"></div>
        </div>

    </div>

    <script>
        let allGames = [];
        let displayedGames = 0;
        const gamesPerLoad = 24;
        let isLoading = false;

        fetch('detectable.json')
            .then(response => response.json())
            .then(games => {

                allGames = games.filter(game => game.icon_hash);
                loadMoreGames();
            })
            .catch(err => {
                console.error('Error loading detectable.json:', err);
            });

        function loadMoreGames() {
            if (isLoading || displayedGames >= allGames.length) return;
            
            isLoading = true;
            const loading = document.getElementById('loading');
            loading.classList.remove('hidden');

            const container = document.getElementById('games');
            const end = Math.min(displayedGames + gamesPerLoad, allGames.length);

            setTimeout(() => {
                for (let i = displayedGames; i < end; i++) {
                    const game = allGames[i];
                    const iconUrl = `https://cdn.discordapp.com/app-icons/${game.id}/${game.icon_hash}.png?size=160`;

                    const gameDiv = document.createElement('div');
                    gameDiv.className = 'game-card rounded-2xl p-4 text-center cursor-pointer';

                    const img = document.createElement('img');
                    img.src = iconUrl;
                    img.alt = game.name;
                    img.className = 'w-full h-auto rounded-xl mb-3 mx-auto';
                    img.loading = 'lazy';

                    const name = document.createElement('div');
                    name.textContent = game.name;
                    name.className = 'text-cyan-300 text-xl font-bold tracking-wide line-clamp-2';

                    gameDiv.appendChild(img);
                    gameDiv.appendChild(name);
                    container.appendChild(gameDiv);
                }

                displayedGames = end;
                isLoading = false;
                loading.classList.add('hidden');
            }, 100);
        }

document.getElementById('games').addEventListener('click', (e) => {
    const gameCard = e.target.closest('.game-card');
    if (gameCard) {
        const gameName = gameCard.querySelector('.text-cyan-300').textContent;
        navigator.clipboard.writeText(gameName).then(() => {
            const originalBg = gameCard.style.background;
            gameCard.style.background = 'linear-gradient(135deg, rgba(0, 242, 255, 0.3), rgba(255, 0, 255, 0.3))';
            setTimeout(() => {
                gameCard.style.background = originalBg;
            }, 200);
            
            alert('Copied to clipboard <3');
        }).catch(err => {
            console.error('Error copying to clipboard:', err);
        });
    }
});
        window.addEventListener('scroll', () => {
            const { scrollTop, scrollHeight, clientHeight } = document.documentElement;
            
            if (scrollTop + clientHeight >= scrollHeight - 500) {
                loadMoreGames();
            }
        });
    </script>

</body>

</html>